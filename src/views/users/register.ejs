<!DOCTYPE html>
<html lang="es">
    <%- include('../partials/head', {
        'title': "Registra tu usuario",
        'css': ["/css/registerstyles.css"]
    }) %>
    <body>
        <%- include('../partials/header') %>
        <main>
        <h1>Crea tu cuenta</h1>
        <form class=formu method="POST" action="/users/register" enctype="multipart/form-data">
            <li class="error"></li>
            <div id="formulary">
                <section class="camp">
                    <p class="label"><label for="first_name">Nombre:</label></p>
                    <p class="input">
                        <input 
                        type="text" 
                        placeholder="Ingresa tu nombre" 
                        id="first_name" 
                        name="first_name"
                        value= "<%= locals.oldData ? oldData.first_name : null %>"
                        >
                    </p>
                    <% if (locals.errors && errors.first_name) { %>
                        <div class="input-invalid">
                            <%= errors.first_name.msg %>
                        </div>
                        <% } %>
                </section>
                <section class="camp">
                    <p class="label"><label for="last_name">Apellido:</label></p>
                    <p class="input">
                        <input 
                        type="text" 
                        placeholder="Ingresa tu apellido" 
                        id="last_name" 
                        name="last_name"
                        value= "<%= locals.oldData ? oldData.last_name : null %>"
                        required>
                    </p>
                    <% if (locals.errors && errors.last_name) { %>
                        <div class="input-invalid">
                            <%= errors.last_name.msg %>
                        </div>
                        <% } %>
                </section>
                <section class="camp">
                    <p class="label"><label for="email">Correo electrónico:</label></p>
                    <p class="input">
                        <input 
                        type="email" 
                        placeholder="Ingresa tu e-mail" 
                        id="email" 
                        name="email"
                        value= "<%= locals.oldData ? oldData.email : null %>"
                        required>
                    </p>
                    <% if (locals.errors && errors.email) { %>
                        <div class="input-invalid">
                            <%= errors.email.msg %>
                        </div>
                        <% } %>
                </section>
                <section class="camp">
                    <p class="label"><label for="password">Contraseña:</label></p>
                    <p class="input">
                        <input 
                        type="password" 
                        placeholder="Ingresa tu contraseña" 
                        id="password" 
                        name="password"
                        required>
                    </p>
                    <% if (locals.errors && errors.password) { %>
                        <div class="input-invalid">
                            <%= errors.password.msg %>
                        </div>
                        <% } %>
                </section>
                <section class="camp">
                    <p class="label"><label for="telephone">Teléfono:</label></p>
                    <p class="input">
                        <input 
                        type="text" 
                        placeholder="Ingresa tu número de teléfono" 
                        id="telephone" 
                        name="telephone"
                        value= "<%= locals.oldData ? oldData.telephone : null %>"> 
                    </p>
                    <% if (locals.errors && errors.telephone) { %>
                        <div class="input-invalid">
                            <%= errors.telephone.msg %>
                        </div>
                        <% } %>
                </section>
                <section class="camp">
                    <p class="label"><label for="password2">Repetir contraseña:</label></p>
                    <p class="input">
                        <input 
                        type="password" 
                        placeholder="Por favor repeti tu contraseña" 
                        id="password2" 
                        name="password2"
                        required>
                    </p>
                    <% if (locals.errors && errors.password2) { %>
                        <div class="input-invalid">
                            <%= errors.password2.msg %>
                        </div>
                        <% } %>
                </section>
                <section class="camp">
                    <p class="label"><label for="address">Dirección:</label></p>
                    <p class="input">
                        <input 
                        type="text" 
                        laceholder="Ingresa tu dirección" 
                        id="address" 
                        name="address"
                        value= "<%= locals.oldData ? oldData.address : null %>">
                    </p>
                    <% if (locals.errors && errors.address) { %>
                        <div class="input-invalid">
                            <%= errors.address.msg %>
                        </div>
                        <% } %>
                </section>
                <section class="camp">
                    <p class="label"><label for="address">Imagen de Perfil:</label></p>
                    <p class="input"><input type="file" placeholder="Selecciona una foto de perfil" id="image" name="image"></p>
                    <% if (locals.errors && errors.image) { %>
                        <div class="input-invalid">
                            <%= errors.image.msg %>
                        </div>
                        <% } %>
                </section>
                <section class="camp" id="regbutton">
                    <p id="button"><button type="submit">Registrarme</button></p>
                </section>
                </div>
            </form>
            </main> 
            <%- include('../partials/footer') %>
            <script src= "/js/registerValidation.js"></script>
    </body>
</html>