<!DOCTYPE html>
<html lang="es">
    <%- include('../partials/head', {
        'title': "Perfil",
        'css': ["/css/loginstyles.css"],
    }) %>   
    <body>
        <%- include('../partials/header') %>
        <main>
            
            <form method="POST" action="/users/profile" enctype="multipart/form-data">
                <h2>Hola <%= locals.userLogged.first_name %></h2>
                <div id="formulary">
                    <section class="camp">
                        <p class="label"><label for="firstName">Nombre:</label></p>
                        <p><input 
                                type="text" 
                                placeholder="Ingresa tu nombre" 
                                id="firstName" 
                                name="firstName"
                                value= "<%= oldData ? oldData.first_name : userLogged.first_name %>"
                                required
                                disabled
                        ></p>
                        <% if (locals.errors && errors.firstName) { %>
                            <div class="input-invalid">
                                <%= errors.firstName.msg %>
                            </div>
                        <% } %>
                    </section>
                    <section class="camp">
                        <p class="label"><label for="lastName">Apellido:</label></p>
                        <input 
                                type="text" 
                                placeholder="Ingresa tu apellido" 
                                id="lastName" 
                                name="lastName"
                                value= "<%= locals.userLogged.last_name %>"
                                required
                                disabled
                        >
                        <% if (locals.errors && errors.lastName) { %>
                            <div class="input-invalid">
                                <%= errors.lastName.msg %>
                            </div>
                        <% } %>
                    </section>
                    <section class="camp">
                        <p class="label"><label for="email">Correo electronico:</label></p>
                        <p><input 
                                type="email" 
                                placeholder="Ingresa tu email"
                                id="email" 
                                name="email"
                                value= "<%= locals.userLogged.email %>"
                                required
                                disabled
                        ></p>
                        <% if (locals.errors && errors.email) { %>
                            <div class="input-invalid">
                                <%= errors.email.msg %>
                            </div>
                        <% } %>
                    </section>
                    <p>
                        <p class="label"><label for="password">Contraseña:</label></p>
                        <input 
                                type="password" 
                                placeholder="Ingresa tu contraseña"
                                id="password" 
                                name="password"
                                required
                                disabled
                        >
                        <% if (locals.errors && errors.password) { %>
                            <div class="input-invalid">
                                <%= errors.password.msg %>
                            </div>
                        <% } %>
                </p>
                <section class="camp">
                    <p>
                        <p class="label"><label for="password2">Repetir contraseña:</label></p>
                        <input 
                                type="password" 
                                placeholder="Repite tu contraseña"
                                id="password2" 
                                name="password2"
                                required
                                disabled
                        >
                        <% if (locals.errors && errors.password2) { %>
                            <div class="input-invalid">
                                <%= errors.password2.msg %>
                            </div>
                        <% } %>
                    </p>
                </section>
                <section class="camp">
                    <p class="label"><label for="phonenumber">Teléfono:</label></p>
                    <p class="input">
                        <input 
                        type="text" 
                        placeholder="Ingresa tu número de teléfono" 
                        id="phonenumber" 
                        name="phonenumber"
                        value= "<%= locals.userLogged.telephone %>"
                        disabled
                        >
                    </p>
                    <% if (locals.errors && errors.phonenumber) { %>
                        <div class="input-invalid">
                            <%= errors.phonenumber.msg %>
                        </div>
                    <% } %>
                </section>
                <section class="camp">
                    <p class="label"><label for="address">Dirección:</label></p>
                    <p class="input">
                        <input 
                        type="text" 
                        placeholder="Ingresa tu dirección" 
                        id="address" 
                        name="address"
                        value= "<%= locals.userLogged.address %>"
                        disabled
                        >
                    </p>
                    <% if (locals.errors && errors.address) { %>
                        <div class="input-invalid">
                            <%= errors.address.msg %>
                        </div>
                    <% } %>
                </section>
        <section class="camp" id="updateButton">
            <p class="buttons" id="button">
                <button type="submit" id="submit-button" class="hidden">Actualizar</button>
                <button id="change-button">Modificar</button>
            </p>
        </section>

        
        <section class= "avatarImage">
            
            <img src="/images/users/<%= userLogged.avatar %>"}>
        
        </section>
        
        </main>
        <%- include('../partials/footer') %>
        <script src="/js/updateProfile.js"></script>
</body>
</html>